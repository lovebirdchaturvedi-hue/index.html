<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APD Global Hub | Digital Trade Terminal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #020617; color: white; margin: 0; overflow-x: hidden; }
        .glass { background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(16px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .video-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -2; object-fit: cover; opacity: 0.4; filter: contrast(1.2) brightness(0.6); }
        .v-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle, transparent 20%, #020617 100%); z-index: -1; }
        .hero-text { font-size: clamp(3rem, 10vw, 8rem); line-height: 0.9; font-weight: 900; text-transform: uppercase; font-style: italic; letter-spacing: -0.04em; }
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-thumb { background: #3b82f6; border-radius: 10px; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Configuration
        const ADMIN_PIN = "1818";
        const WHATSAPP = "https://wa.me/919266418868";

        const App = () => {
            const [view, setView] = useState('home');
            const [user, setUser] = useState(null); // { type: 'admin' | 'supplier' | 'buyer', name: string }
            const [leads, setLeads] = useState([
                { id: 'RFQ-901', product: 'Sugar ICUMSA 45', qty: '25,000 MT', port: 'Jebel Ali', price: '$410/MT', status: 'Live' },
                { id: 'RFQ-902', product: 'Thai Jasmine Rice', qty: '10,000 MT', port: 'Lagos', price: '$520/MT', status: 'Live' }
            ]);
            const [authorizedEntities, setAuthorizedEntities] = useState(['Global Grains Inc', 'Al-Khaleej Trading']);
            const [showAuth, setShowAuth] = useState(false);
            const [authInput, setAuthInput] = useState("");

            useEffect(() => { if (window.lucide) window.lucide.createIcons(); }, [view, showAuth, user]);

            const handleLogin = () => {
                const val = authInput.trim();
                if (val === ADMIN_PIN) {
                    setUser({ type: 'admin', name: 'Master Admin' });
                    setView('admin');
                } else if (authorizedEntities.includes(val)) {
                    setUser({ type: 'supplier', name: val });
                    setView('market');
                } else {
                    setUser({ type: 'buyer', name: val || 'Guest Buyer' });
                    setView('market');
                }
                setShowAuth(false);
                setAuthInput("");
            };

            return (
                <div className="min-h-screen">
                    <video autoPlay loop muted playsInline className="video-bg">
                        <source src="https://assets.mixkit.co/videos/preview/mixkit-large-container-ship-at-sea-34444-large.mp4" type="video/mp4" />
                    </video>
                    <div className="v-overlay"></div>

                    {/* Navigation */}
                    <nav className="fixed w-full z-50 glass px-8 py-5 flex justify-between items-center border-b border-white/5">
                        <div className="flex items-center gap-3 cursor-pointer" onClick={() => setView('home')}>
                            <div className="bg-blue-600 text-white font-black italic px-2 py-0.5 rounded text-lg">APD</div>
                            <span className="text-xl font-black uppercase italic tracking-tighter">Global <span className="text-blue-500 text-sm opacity-80 font-normal">Hub</span></span>
                        </div>
                        
                        <div className="flex gap-8 items-center text-[10px] font-black uppercase tracking-[0.3em]">
                            <button onClick={() => setView('market')} className="hover:text-blue-400">Marketplace</button>
                            {user?.type === 'admin' && <button onClick={() => setView('admin')} className="text-blue-400 border border-blue-400/30 px-3 py-1 rounded">Admin Console</button>}
                            {user ? (
                                <div className="flex items-center gap-4 pl-4 border-l border-white/10">
                                    <span className="text-blue-400 opacity-60 italic">{user.name}</span>
                                    <button onClick={() => {setUser(null); setView('home');}} className="opacity-40 hover:opacity-100">Exit</button>
                                </div>
                            ) : (
                                <button onClick={() => setShowAuth(true)} className="bg-white text-black px-6 py-2 rounded-full hover:bg-blue-600 hover:text-white transition-all">Login</button>
                            )}
                        </div>
                    </nav>

                    <main className="pt-32 pb-24 px-6 md:px-20 max-w-7xl mx-auto">
                        {view === 'home' && (
                            <div className="py-20 animate-in fade-in slide-in-from-bottom-10 duration-1000">
                                <h1 className="hero-text mb-8">Global<br/><span className="text-blue-500">Sovereign</span><br/>Trade.</h1>
                                <p className="text-slate-400 text-xl max-w-xl mb-12 font-medium italic">Digitizing the world's most critical commodity flows. Verified, Direct, and Institutional.</p>
                                <div className="flex gap-6">
                                    <button onClick={() => setView('market')} className="bg-blue-600 px-12 py-5 rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-2xl shadow-blue-600/40">Market Terminal</button>
                                    <button onClick={() => setShowAuth(true)} className="bg-white/10 backdrop-blur-xl px-12 py-5 rounded-2xl font-black uppercase text-[10px] tracking-widest border border-white/10">Access Portal</button>
                                </div>
                            </div>
                        )}

                        {view === 'market' && (
                            <div className="animate-in fade-in duration-500">
                                <div className="flex justify-between items-end mb-16">
                                    <h2 className="text-5xl font-black italic uppercase tracking-tighter">Live <span className="text-blue-500">RFQs</span></h2>
                                    <div className="flex items-center gap-4">
                                        <div className="bg-green-500/10 text-green-500 border border-green-500/20 px-4 py-1.5 rounded-full text-[9px] font-black uppercase tracking-widest animate-pulse">● System Online</div>
                                    </div>
                                </div>
                                <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                                    {leads.map(l => (
                                        <div key={l.id} className="glass p-10 rounded-[2.5rem] border-t-4 border-blue-600 flex flex-col h-full hover:scale-[1.02] transition-transform">
                                            <div className="flex justify-between items-start mb-10">
                                                <span className="text-[10px] font-black bg-blue-600/20 text-blue-400 px-3 py-1 rounded uppercase tracking-widest">{l.id}</span>
                                                <span className="text-[9px] font-black text-slate-500 uppercase tracking-widest">Incoterm: CIF</span>
                                            </div>
                                            <h3 className="text-3xl font-black italic uppercase mb-10 leading-tight flex-grow">{l.product}</h3>
                                            <div className="space-y-4 pt-8 border-t border-white/5 text-[11px] font-black uppercase tracking-widest">
                                                <div className="flex justify-between"><span className="text-slate-500">Quantity</span><span>{l.qty}</span></div>
                                                <div className="flex justify-between"><span className="text-slate-500">Port</span><span>{l.port}</span></div>
                                                <div className="flex justify-between"><span className="text-slate-500">Target</span><span className="text-green-500">{l.price}</span></div>
                                            </div>
                                            <button className="w-full mt-10 py-4 bg-white/5 hover:bg-blue-600 transition-all rounded-xl font-black uppercase text-[9px] tracking-widest border border-white/10">Submit Official Quote</button>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        {view === 'admin' && user?.type === 'admin' && (
                            <div className="animate-in fade-in duration-500 space-y-12">
                                <div className="glass p-12 rounded-[3rem]">
                                    <h2 className="text-3xl font-black italic uppercase mb-10 flex items-center gap-4 text-blue-500">
                                        <i data-lucide="plus-circle"></i> Inject New Lead
                                    </h2>
                                    <div className="grid md:grid-cols-3 gap-8 mb-10">
                                        {['Product', 'Quantity', 'Port', 'Target Price', 'Incoterm'].map(field => (
                                            <div key={field} className="space-y-2">
                                                <label className="text-[9px] font-black uppercase text-slate-500 tracking-widest ml-2">{field}</label>
                                                <input id={field} type="text" placeholder={`Enter ${field}...`} className="w-full bg-black/40 p-5 rounded-2xl border border-white/5 focus:border-blue-500 outline-none font-bold text-sm" />
                                            </div>
                                        ))}
                                    </div>
                                    <button 
                                        onClick={() => {
                                            const p = document.getElementById('Product').value;
                                            const q = document.getElementById('Quantity').value;
                                            if(!p || !q) return;
                                            setLeads([{ id: `RFQ-${Math.floor(Math.random()*900)+100}`, product: p, qty: q, port: document.getElementById('Port').value, price: document.getElementById('Target Price').value, status: 'Live' }, ...leads]);
                                            alert("Lead Injected to Live Marketplace");
                                        }}
                                        className="w-full bg-blue-600 py-6 rounded-2xl font-black uppercase text-xs tracking-widest hover:bg-blue-500 shadow-xl shadow-blue-600/30"
                                    >Publish to Marketplace</button>
                                </div>

                                <div className="glass p-12 rounded-[3rem]">
                                    <h2 className="text-3xl font-black italic uppercase mb-10 flex items-center gap-4 text-white">
                                        <i data-lucide="shield-check"></i> Authorized Entities
                                    </h2>
                                    <div className="flex gap-4 mb-8">
                                        <input id="newEntity" type="text" placeholder="Add Company to Supplier White-list..." className="flex-grow bg-black/40 p-5 rounded-2xl border border-white/5 focus:border-blue-500 outline-none font-bold text-sm" />
                                        <button 
                                            onClick={() => {
                                                const ent = document.getElementById('newEntity').value;
                                                if(ent) setAuthorizedEntities([...authorizedEntities, ent]);
                                                document.getElementById('newEntity').value = "";
                                            }}
                                            className="bg-white text-black px-10 rounded-2xl font-black uppercase text-[10px]"
                                        >Add</button>
                                    </div>
                                    <div className="grid md:grid-cols-2 gap-4">
                                        {authorizedEntities.map(e => (
                                            <div key={e} className="bg-white/5 p-4 rounded-xl border border-white/5 flex justify-between items-center text-xs font-bold uppercase italic tracking-widest">
                                                {e}
                                                <button onClick={() => setAuthorizedEntities(authorizedEntities.filter(x => x !== e))} className="text-red-500/50 hover:text-red-500"><i data-lucide="x-circle" className="w-4 h-4"></i></button>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        )}
                    </main>

                    {/* Auth Modal */}
                    {showAuth && (
                        <div className="fixed inset-0 z-[100] bg-black/95 backdrop-blur-md flex items-center justify-center p-6">
                            <div className="bg-slate-900 border border-white/10 p-12 rounded-[3rem] w-full max-w-sm text-center">
                                <h2 className="text-2xl font-black italic uppercase tracking-tighter mb-8">Terminal Access</h2>
                                <input 
                                    type="text" 
                                    placeholder="Entity Key or Admin PIN" 
                                    className="w-full bg-black p-6 rounded-2xl mb-6 border border-white/5 focus:border-blue-500 outline-none text-center font-bold text-lg"
                                    value={authInput}
                                    onChange={e => setAuthInput(e.target.value)}
                                    onKeyPress={e => e.key === 'Enter' && handleLogin()}
                                    autoFocus
                                />
                                <button onClick={handleLogin} className="w-full bg-blue-600 py-6 rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-blue-500 mb-4">Enter Dashboard</button>
                                <button onClick={() => setShowAuth(false)} className="text-slate-500 text-[9px] uppercase font-black">Cancel</button>
                            </div>
                        </div>
                    )}

                    <footer className="fixed bottom-0 w-full glass py-4 px-10 border-t border-white/5 flex justify-between items-center text-[8px] font-black uppercase tracking-[0.4em] text-slate-500">
                        <div className="flex gap-8">
                            <a href={WHATSAPP} target="_blank" className="hover:text-blue-400">WhatsApp Trade Desk</a>
                            <span>Market Liquidity: 240.5k MT</span>
                        </div>
                        <div className="hidden md:block">APD Global Infrastructure © 2026</div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

